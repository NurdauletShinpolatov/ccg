!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=require("react");function n(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(o&&(o+=" "),o+=r);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function t(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}var r=["mousedown","touchstart"];function o(e){var n=e.getBoundingClientRect(),r=n.bottom>window.innerHeight,o=n.left<0,i=n.right>window.innerWidth;return t({"rnd__menu--top":r,"rnd__menu--bottom":n.top<0,"rnd__menu--right":o,"rnd__menu--left":i})}var i=function(n){var r,c=n.option,a=n.onSelect,l=n.renderOption,s=c.items,f=!!s,d=null!==(r=c.itemsContainerWidth)&&void 0!==r?r:150,m=e.useState(""),v=m[0],p=m[1],_=e.useState(!1),E=_[0],b=_[1],h=e.useCallback((function(e){f||(e.stopPropagation(),a(c))}),[f,a,c]),g=e.useRef(null);e.useEffect((function(){var e=g.current,n=new ResizeObserver((function(e){e.forEach((function(e){e.target instanceof HTMLElement&&(b(e.target.offsetWidth>0),p(o(e.target)))}))}));return e&&n.observe(e),function(){e&&n.unobserve(e)}}),[]);var y=f?u:c.iconAfter;return e.createElement("li",{className:t("rnd__option",c.className,{"rnd__option--disabled":c.disabled,"rnd__option--with-menu":f}),onMouseDown:h,onKeyUp:h},f&&e.createElement("ul",{className:t("rnd__menu rnd__submenu ".concat(v),{"rnd__submenu--opened":E}),ref:g,style:{width:d}},s.map((function(n,t){return e.createElement(i,{key:t,option:n,onSelect:a,renderOption:l})}))),l&&l(c),!l&&e.createElement(e.Fragment,null,c.iconBefore&&e.createElement("div",{className:"rnd__option-icon rnd__option-icon--left"},c.iconBefore),e.createElement("p",{className:"rnd__option-label"},c.label),y&&e.createElement("div",{className:"rnd__option-icon rnd__option-icon--right"},y)))},u=e.createElement("div",{style:{border:"5px solid currentColor",borderRightColor:"transparent",borderBottomColor:"transparent",borderTopColor:"transparent",width:0,height:0}});exports.Dropdown=function(n){var u=n.items,c=n.containerWidth,a=void 0===c?300:c,l=n.onSelect,s=n.children,f=n.className,d=n.renderOption,m=n.closeOnScroll,v=void 0===m||m,p=e.useRef(null),_=e.useState(""),E=_[0],b=_[1],h=e.useState(!1),g=h[0],y=h[1],w=e.useCallback((function(){return y((function(e){return!e}))}),[]),C=e.useCallback((function(){return y(!1)}),[]),S=e.useMemo((function(){return{isOpen:g,onClick:w}}),[g,w]),N=e.useCallback((function(e){e.disabled||(e.onSelect?e.onSelect():void 0!==e.value&&l&&l(e.value,e),C())}),[C,l]);!function(n,t,o){void 0===o&&(o=r);var i=e.useRef(t);e.useEffect((function(){i.current=t}),[t]),e.useEffect((function(){function e(e){var t=n.current;t&&!t.contains(e.target)&&i.current(e)}return o.forEach((function(n){document.addEventListener(n,e)})),function(){o.forEach((function(n){document.removeEventListener(n,e)}))}}),[o,n])}(p,C);var k=e.useCallback((function(e){var n,t=e.target;(null===(n=null==t?void 0:t.classList)||void 0===n?void 0:n.contains("rnd__menu"))||C()}),[C]);e.useEffect((function(){return g&&v&&document.addEventListener("scroll",k,!0),function(){document.removeEventListener("scroll",k,!0)}}),[g]);var L=e.useRef(null);return e.useLayoutEffect((function(){return g&&L.current&&b(o(L.current)),function(){g&&b("")}}),[g]),e.createElement("div",{className:t("rnd",f),ref:p},s(S),g&&e.createElement("ul",{className:"rnd__root-menu rnd__menu ".concat(E),style:{width:a},ref:L},u.map((function(n,t){return e.createElement(i,{key:t,option:n,onSelect:N,renderOption:d})}))))}}));
